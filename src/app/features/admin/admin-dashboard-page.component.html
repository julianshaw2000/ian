<div class="vh-admin-shell">
  <mat-toolbar class="vh-admin-toolbar">
    <button mat-icon-button type="button" (click)="back()" matTooltip="Back">
      <mat-icon>arrow_back</mat-icon>
    </button>

    <span class="vh-admin-title">
      <mat-icon>admin_panel_settings</mat-icon>
      <span>Admin · CityHistoryWalks</span>
    </span>

    <span class="vh-admin-toolbar-spacer"></span>

    <span *ngIf="auth.userEmail() as email"> Signed in as {{ email }} </span>

    <button mat-icon-button type="button" (click)="logout()" matTooltip="Logout">
      <mat-icon>logout</mat-icon>
    </button>

    <a mat-icon-button routerLink="/" matTooltip="Back to app">
      <mat-icon>home</mat-icon>
    </a>
  </mat-toolbar>

  <main class="vh-admin-main">
    <section class="vh-admin-grid">
      <mat-card class="vh-admin-summary">
        <mat-card-header>
          <mat-card-title>Tours</mat-card-title>
          <mat-card-subtitle>Manage what appears in the app</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p *ngIf="tours().length === 0">No tours loaded yet from Supabase.</p>
          <ul *ngIf="tours().length > 0">
            <li *ngFor="let tour of tours()">
              <span class="vh-admin-tour-title">{{ tour.title }}</span>
              <span class="vh-admin-tour-meta">
                {{ tour.location || 'Unknown location' }} · {{ tour.distance_km ?? 0 }} km ·
                {{ tour.duration_minutes ?? 0 }} min
              </span>
            </li>
          </ul>
        </mat-card-content>
        <mat-card-actions>
          <a
            mat-stroked-button
            color="primary"
            routerLink="/admin/tours"
            matTooltip="Open tours manager"
          >
            <mat-icon>edit</mat-icon>
            <span>Manage tours</span>
          </a>
        </mat-card-actions>
      </mat-card>
    </section>
  </main>
</div>
